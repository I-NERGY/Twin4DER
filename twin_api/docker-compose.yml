# SPDX-FileCopyrightText: 2023, Institute for Automation of Complex Power Systems, EONERC, RWTH Aachen University
# SPDX-License-Identifier: MPL-2.0

# compose file for building and running the API only
version: "3"
services:
  api:
    build:
      context: .
      dockerfile: Dockerfile-minimal-dev
    user: root
    environment:
      - CHOWN_EXTRA="/home/dpsim"
      - CHOWN_EXTRA_OPTS="-R"
      - PYMONGO_URL=131.154.97.22
      - PYMONGO_PORT=27017
      - PYMONGO_DB=inergy_prod_db
      - PYMONGO_USER=root
      - PYMONGO_PASS=inergySt0rag32oo22!
      - METER_CURRENT=db.asm_historical_smart_meters_uc6_current
      - METER_POWER=db.asm_historical_smart_meters_uc6_power
      - METER_VOLTAGE=db.asm_historical_smart_meters_uc6_voltage
    ports:
      - "5050:5050"
